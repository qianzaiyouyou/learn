<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
        //wrapped into 
        // 网络请求: aaa -> 自己处理
        //处理: aaa111 -> 处理
         

        //参数-> 函数
        //resolve, reject 本身他们又是函数
    //     new Promise((resolve, reject) => {
    //         //模拟第一次网络请求的代码
    //         setTimeout(() => {
    //             resolve('aaa');
    //         },1000)
    //     }).then(res => {
    //         //1.处理
    //         console.log(res,"第一层处理");

    //         //2.对结果进行第一次处理
    //         return new Promise((resolve,reject) =>{
    //             // resolve(res + "111");
    //             reject('err');
    //         })
    //     }).then(res => {
    //         console.log(res + "第二层处理");

    //         return new Promise(resolve => {
    //             resolve(res + "222");
    //         })
    // }).then(res => {
    //             console.log(res + "第三层处理");
    // }).catch(err => {
    //     console.log(err);
    // })



    new Promise((resolve, reject) => {
            //模拟第一次网络请求的代码
            setTimeout(() => {
                resolve('aaa');
            },1000)
        }).then(res => {
            //1.处理
            console.log(res,"第一层处理");

            //2.对结果进行第一次处理
            //return Promise.resolve(res + "111");

            //return Promise.reject("error message");

            //手动抛出异常
            throw "error message";

        }).then(res => {
            console.log(res + "第二层处理");

            return Promise.resolve(res + "222");
            }).then(res =>{
                console.log(res + "第三层处理");
        }).catch(err => {
            console.log(err);
        })


    //省略掉Promise.resolve
    // new Promise((resolve, reject) => {
    //         //模拟第一次网络请求的代码
    //         setTimeout(() => {
    //             resolve('aaa');
    //         },1000)
    //     }).then(res => {
    //         //1.处理
    //         console.log(res,"第一层处理");

    //         //2.对结果进行第一次处理
    //         return res + "111";
    //     }).then(res => {
    //         console.log(res + "第二层处理");

    //         return res + "222";
    //         }).then(res =>{
    //             console.log(res + "第三层处理");
    //     })


    </script>
</body>
</html>